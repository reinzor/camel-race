webpackJsonp([1],{10:function(e,t,s){s(46);var n=s(49)(s(14),s(50),null,null);e.exports=n.exports},13:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(12),a=s(10),r=s.n(a),i=s(11),o=s.n(i);n.a.use(o.a,"http://localhost:3000"),n.a.config.productionTip=!1,new n.a({el:"#app",template:"<App/>",components:{App:r.a}})},14:function(e,t,s){"use strict";function n(e,t,s){return s=s||"0",e+="",e.length>=t?e:new Array(t-e.length+1).join(s)+e}Object.defineProperty(t,"__esModule",{value:!0});var a=s(16),r=s.n(a),i=s(15),o=s.n(i),c=new Audio("static/audio/bell.wav");c.pause();var l=new Audio("static/audio/derby.wav");l.pause();var u=new Audio("static/audio/feelgood.wav");u.pause(),t.default={name:"app",data:function(){return{players:{},maxScore:20,startTime:o()((new Date).getTime()/1e3),sinceStart:0,resetButton:{doubleTapTime:1e3,count:0,time:null,resetGameCount:1,clearPlayersCount:2}}},sockets:{connect:function(){console.log("socket connected")},score:function(e){console.log("Score!",e),e.time=new Date,e.origin in this.players||this.$set(this.players,e.origin,{score:0,name:"Speler "+(r()(this.players).length+1),lastEvent:null}),this.winner||(this.players[e.origin].score+=e.numPoints,this.players[e.origin].lastEvent=e)},resetGame:function(e){console.log("resetGame",e),this.resetGame()}},computed:{winner:function(){for(var e in this.players)if(this.players[e].score>=this.maxScore)return this.players[e];return null},seconds:function(){return n(this.sinceStart%60,2)},minutes:function(){return n(parseInt(this.sinceStart/60)%60,2)}},created:function(){var e=this;window.setInterval(function(){e.winner||(e.sinceStart=o()((new Date).getTime()/1e3)-e.startTime,e.resetButton.time&&new Date-e.resetButton.time>e.resetButton.doubleTapTime&&(e.resetButton.time=null,e.resetButton.count=0)),e.checkAudio()},100)},methods:{checkAudio:function(){this.winner&&u.paused&&(u.currentTime=0,u.play(),l.pause())},getColor:function(e){return["#5cb85c","#5bc0de","#f0ad4e","#d9534f","#0275d8"][e%5]},getPercentage:function(e){return parseInt(parseFloat(e)/this.maxScore*100)},resetGame:function(){var e=this;if(u.pause(),l.currentTime=0,l.play(),l.addEventListener("ended",function(){e.winner||l.play()}),c.currentTime=0,c.play(),this.resetButton.time=new Date,this.resetButton.count+=1,this.resetButton.count>=this.resetButton.clearPlayersCount)this.players={};else if(this.resetButton.count>=this.resetButton.resetGameCount){for(var t in this.players)this.players[t].score=0;this.startTime=o()((new Date).getTime()/1e3)}}}}},46:function(e,t){},50:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"site-wrapper"},[s("div",{staticClass:"site-wrapper-inner"},[s("div",{staticClass:"cover-container",attrs:{id:"app"}},[s("div",{staticClass:"masthead clearfix"},[s("div",{staticClass:"inner"},[s("h3",{staticClass:"masthead-brand"},[e._v("Kamelen Race!")]),e._v(" "),s("nav",[s("ul",{staticClass:"nav masthead-nav"},[s("li",[s("a",{attrs:{href:"#"},on:{click:e.resetGame}},[e._v("Reset")])])])])])]),e._v(" "),s("div",{staticClass:"inner cover"},[e.winner?s("h1",{staticClass:"cover-heading"},[e._v(e._s(e.winner.name)+" wint! - "+e._s(e.minutes)+":"+e._s(e.seconds))]):s("h1",{staticClass:"cover-heading"},[e._v(e._s(e.minutes)+":"+e._s(e.seconds))]),e._v(" "),e._l(e.players,function(t,n,a){return s("div",{staticClass:"player"},[s("transition",{attrs:{name:"fade",mode:"out-in"}},[t.lastEvent?s("div",{key:t.lastEvent.time,staticClass:"lastScore",style:{color:e.getColor(a)},domProps:{textContent:e._s(t.lastEvent.numPoints)}}):e._e()]),e._v(" "),s("div",{staticClass:"info"},[s("span",{staticClass:"name",domProps:{textContent:e._s(t.name)}}),e._v(" "),e.winner?s("span",{staticClass:"score"},[e._v("- ("+e._s(t.score)+" punten)")]):e._e()]),e._v(" "),s("div",{staticClass:"progress"},[s("div",{staticClass:"progress-bar progress-bar-striped progress-bar-animated",style:{width:e.getPercentage(t.score)+"%",backgroundColor:e.getColor(a)},attrs:{role:"progressbar","aria-valuenow":t.score,"aria-valuemin":"0","aria-valuemax":e.maxScore}}),e._v(" "),s("span",{staticClass:"camel"})])],1)})],2),e._v(" "),e._m(0)])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mastfoot"},[s("div",{staticClass:"inner"},[s("p",[e._v("Kamelen race, "),s("a",{attrs:{href:"mailto:info@baasvanhorstaandemaas.nl"}},[e._v("Baas van Horst aan de Maas")])])])])}]}}},[13]);
//# sourceMappingURL=app.0789f9f1f8322d4d3b9b.js.map