{"version":3,"sources":["webpack:///static/js/app.9ac184dd7bcf89960423.js","webpack:///./src/App.vue?fc6a","webpack:///./src/main.js","webpack:///App.vue","webpack:///./src/App.vue?91a3"],"names":["webpackJsonp","10","module","exports","__webpack_require__","Component","13","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_1__App___default","n","__WEBPACK_IMPORTED_MODULE_2_vue_socket_io__","__WEBPACK_IMPORTED_MODULE_2_vue_socket_io___default","use","a","config","productionTip","el","template","components","App","14","pad","width","z","length","Array","join","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_math_trunc__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_math_trunc___default","bellAudio","Audio","pause","derbyAudio","feelgoodAudio","name","data","players","maxScore","startTime","Date","getTime","sinceStart","resetButton","doubleTapTime","count","time","clearPlayersCount","active","sockets","connect","console","log","score","e","origin","this","$set","lastEvent","winner","numPoints","resetGame","computed","seconds","minutes","parseInt","created","_this","window","setInterval","checkAudio","methods","paused","currentTime","play","getColor","idx","getPercentage","parseFloat","_this2","addEventListener","46","50","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","id","on","click","_v","_e","_s","_l","player","mode","key","style","color","domProps","textContent","backgroundColor","role","aria-valuenow","aria-valuemin","aria-valuemax","_m","staticRenderFns","href"],"mappings":"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","file":"static/js/app.9ac184dd7bcf89960423.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 10:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(46)\n\nvar Component = __webpack_require__(49)(\n  /* script */\n  __webpack_require__(14),\n  /* template */\n  __webpack_require__(50),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 13:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue_socket_io__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue_socket_io___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_vue_socket_io__);\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_2_vue_socket_io___default.a, 'http://localhost:3000');\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App___default.a }\n});\n\n/***/ }),\n\n/***/ 14:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_math_trunc__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_math_trunc___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_math_trunc__);\n\n\n\n\nfunction pad(n, width, z) {\n  z = z || '0';\n  n = n + '';\n  return n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;\n}\n\nvar bellAudio = new Audio('static/audio/bell.wav');\nbellAudio.pause();\nvar derbyAudio = new Audio('static/audio/derby.wav');\nderbyAudio.pause();\nvar feelgoodAudio = new Audio('static/audio/feelgood.wav');\nfeelgoodAudio.pause();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'app',\n  data: function data() {\n    return {\n      players: {},\n      maxScore: 20,\n      startTime: __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_math_trunc___default()(new Date().getTime() / 1000),\n      sinceStart: 0,\n      resetButton: {\n        doubleTapTime: 1000,\n        count: 0,\n        time: null,\n        clearPlayersCount: 5\n      },\n      active: false\n    };\n  },\n\n  sockets: {\n    connect: function connect() {\n      console.log('socket connected');\n    },\n    score: function score(e) {\n      console.log('Score!', e);\n      e.time = new Date();\n\n      if (!(e.origin in this.players)) {\n        this.$set(this.players, e.origin, {\n          score: 0,\n          name: 'Speler ' + (__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(this.players).length + 1),\n          lastEvent: null\n        });\n      }\n\n      if (!this.winner && this.active) {\n        this.players[e.origin].score += e.numPoints;\n        this.players[e.origin].lastEvent = e;\n      }\n    },\n    resetGame: function resetGame(e) {\n      console.log('resetGame', e);\n      this.resetGame();\n    }\n  },\n  computed: {\n    winner: function winner() {\n      for (var origin in this.players) {\n        if (this.players[origin].score >= this.maxScore) {\n          return this.players[origin];\n        }\n      }\n      return null;\n    },\n    seconds: function seconds() {\n      return pad(this.sinceStart % 60, 2);\n    },\n    minutes: function minutes() {\n      return pad(parseInt(this.sinceStart / 60) % 60, 2);\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    window.setInterval(function () {\n      if (!_this.winner) {\n        _this.sinceStart = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_math_trunc___default()(new Date().getTime() / 1000) - _this.startTime;\n        if (_this.resetButton.time && new Date() - _this.resetButton.time > _this.resetButton.doubleTapTime) {\n          _this.resetButton.time = null;\n          _this.resetButton.count = 0;\n        }\n      }\n      _this.checkAudio();\n    }, 100);\n  },\n\n  methods: {\n    checkAudio: function checkAudio() {\n      if (this.winner && feelgoodAudio.paused && this.active) {\n        feelgoodAudio.currentTime = 0;\n        feelgoodAudio.play();\n        derbyAudio.pause();\n      }\n    },\n    getColor: function getColor(idx) {\n      var index = idx % 5;\n      var colors = ['#5cb85c', '#5bc0de', '#f0ad4e', '#d9534f', '#0275d8'];\n      return colors[index];\n    },\n    getPercentage: function getPercentage(score) {\n      return parseInt(parseFloat(score) / this.maxScore * 100);\n    },\n    resetGame: function resetGame() {\n      var _this2 = this;\n\n      this.resetButton.time = new Date();\n      this.resetButton.count += 1;\n      if (this.resetButton.count >= this.resetButton.clearPlayersCount) {\n        this.players = {};\n      } else if (!this.active) {\n        feelgoodAudio.pause();\n        derbyAudio.currentTime = 0;\n        derbyAudio.play();\n        derbyAudio.addEventListener('ended', function () {\n          if (!_this2.winner && _this2.active) {\n            derbyAudio.play();\n          }\n        });\n        bellAudio.currentTime = 0;\n        bellAudio.play();\n\n        this.startTime = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_math_trunc___default()(new Date().getTime() / 1000);\n        this.active = true;\n      } else if (this.active) {\n        for (var origin in this.players) {\n          this.players[origin].score = 0;\n        }\n        derbyAudio.pause();\n        feelgoodAudio.pause();\n        bellAudio.pause();\n        this.active = false;\n      }\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 46:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 50:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"site-wrapper\"\n  }, [_c('div', {\n    staticClass: \"site-wrapper-inner\"\n  }, [_c('div', {\n    staticClass: \"cover-container\",\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('div', {\n    staticClass: \"masthead clearfix\"\n  }, [_c('div', {\n    staticClass: \"inner\"\n  }, [_c('h3', {\n    staticClass: \"masthead-brand\",\n    on: {\n      \"click\": _vm.resetGame\n    }\n  }, [_vm._v(\"Kamelen Race!\")])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"inner cover\"\n  }, [(!_vm.active) ? _c('h1', {\n    staticClass: \"cover-heading\"\n  }, [_vm._v(\"Klaar voor de start?\")]) : _vm._e(), _vm._v(\" \"), (!_vm.winner && _vm.active) ? _c('h1', {\n    staticClass: \"cover-heading\"\n  }, [_vm._v(_vm._s(_vm.minutes) + \":\" + _vm._s(_vm.seconds))]) : _vm._e(), _vm._v(\" \"), (_vm.winner && _vm.active) ? _c('h1', {\n    staticClass: \"cover-heading\"\n  }, [_vm._v(_vm._s(_vm.winner.name) + \" wint! - \" + _vm._s(_vm.minutes) + \":\" + _vm._s(_vm.seconds))]) : _vm._e(), _vm._v(\" \"), _vm._l((_vm.players), function(player, origin, idx) {\n    return _c('div', {\n      staticClass: \"player\"\n    }, [_c('transition', {\n      attrs: {\n        \"name\": \"fade\",\n        \"mode\": \"out-in\"\n      }\n    }, [(player.lastEvent) ? _c('div', {\n      key: player.lastEvent.time,\n      staticClass: \"lastScore\",\n      style: ({\n        color: _vm.getColor(idx)\n      }),\n      domProps: {\n        \"textContent\": _vm._s(player.lastEvent.numPoints)\n      }\n    }) : _vm._e()]), _vm._v(\" \"), _c('div', {\n      staticClass: \"info\"\n    }, [_c('span', {\n      staticClass: \"name\",\n      domProps: {\n        \"textContent\": _vm._s(player.name)\n      }\n    }), _vm._v(\" \"), (_vm.winner) ? _c('span', {\n      staticClass: \"score\"\n    }, [_vm._v(\"- (\" + _vm._s(player.score) + \" punten)\")]) : _vm._e()]), _vm._v(\" \"), _c('div', {\n      staticClass: \"progress\"\n    }, [_c('div', {\n      staticClass: \"progress-bar progress-bar-striped progress-bar-animated\",\n      style: ({\n        width: _vm.getPercentage(player.score) + '%',\n        backgroundColor: _vm.getColor(idx)\n      }),\n      attrs: {\n        \"role\": \"progressbar\",\n        \"aria-valuenow\": player.score,\n        \"aria-valuemin\": \"0\",\n        \"aria-valuemax\": _vm.maxScore\n      }\n    }), _vm._v(\" \"), _c('span', {\n      staticClass: \"camel\"\n    })])], 1)\n  })], 2), _vm._v(\" \"), _vm._m(0)])])])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"mastfoot\"\n  }, [_c('div', {\n    staticClass: \"inner\"\n  }, [_c('p', [_vm._v(\"Kamelen race, \"), _c('a', {\n    attrs: {\n      \"href\": \"mailto:info@baasvanhorstaandemaas.nl\"\n    }\n  }, [_vm._v(\"Baas van Horst aan de Maas\")])])])])\n}]}\n\n/***/ })\n\n},[13]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.9ac184dd7bcf89960423.js","\n/* styles */\nrequire(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-cad49406\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cad49406\\\"}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 10\n// module chunks = 1","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\n\nimport VueSocketio from 'vue-socket.io'\nVue.use(VueSocketio, 'http://localhost:3000')\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","<template>\n  <div class=\"site-wrapper\">\n    <div class=\"site-wrapper-inner\">\n        <div class=\"cover-container\" id=\"app\">\n            <div class=\"masthead clearfix\">\n              <div class=\"inner\">\n                <h3 class=\"masthead-brand\" @click=\"resetGame\">Kamelen Race!</h3>\n              </div>\n            </div>\n            <div class=\"inner cover\">\n              <h1 v-if=\"!active\" class=\"cover-heading\">Klaar voor de start?</h1>\n              <h1 v-if=\"!winner && active\" class=\"cover-heading\">{{minutes}}:{{seconds}}</h1>\n              <h1 v-if=\"winner && active\" class=\"cover-heading\">{{winner.name}} wint! - {{minutes}}:{{seconds}}</h1>\n              <div v-for=\"(player, origin, idx) in players\" class=\"player\">\n                <transition name=\"fade\" mode=\"out-in\">\n                  <div class=\"lastScore\"\n                    :style=\"{color: getColor(idx)}\"\n                    :key=\"player.lastEvent.time\"\n                    v-text=\"player.lastEvent.numPoints\" v-if=\"player.lastEvent\"></div>\n                </transition>\n                <div class=\"info\">\n                  <span class=\"name\" v-text=\"player.name\"></span>\n                  <span class=\"score\" v-if=\"winner\">- ({{player.score}} punten)</span>\n                </div>\n                <div class=\"progress\">\n                  <div class=\"progress-bar progress-bar-striped progress-bar-animated\"\n                    role=\"progressbar\"\n                    :style=\"{width: getPercentage(player.score) + '%', backgroundColor: getColor(idx)}\"\n                    :aria-valuenow=\"player.score\"\n                    aria-valuemin=\"0\"\n                    :aria-valuemax=\"maxScore\"></div>\n                    <span class=\"camel\"></span>\n                </div>\n              </div>\n            </div>\n            <div class=\"mastfoot\">\n              <div class=\"inner\">\n                <p>Kamelen race, <a href=\"mailto:info@baasvanhorstaandemaas.nl\">Baas van Horst aan de Maas</a></p>\n              </div>\n            </div>\n        </div>\n    </div>\n  </div>\n</template>\n\n<script>\nfunction pad (n, width, z) {\n  z = z || '0'\n  n = n + ''\n  return n.length >= width ? n : new Array(width - n.length + 1).join(z) + n\n}\n\nvar bellAudio = new Audio('static/audio/bell.wav')\nbellAudio.pause()\nvar derbyAudio = new Audio('static/audio/derby.wav')\nderbyAudio.pause()\nvar feelgoodAudio = new Audio('static/audio/feelgood.wav')\nfeelgoodAudio.pause()\n\nexport default {\n  name: 'app',\n  data () {\n    return {\n      players: {},\n      maxScore: 20,\n      startTime: Math.trunc((new Date()).getTime() / 1000),\n      sinceStart: 0,\n      resetButton: {\n        doubleTapTime: 1000,\n        count: 0,\n        time: null,\n        clearPlayersCount: 5\n      },\n      active: false\n    }\n  },\n  sockets: {\n    connect () {\n      console.log('socket connected')\n    },\n    score (e) {\n      // Some logging and add timestamp\n      console.log('Score!', e)\n      e.time = new Date()\n\n      // Add the player if the origin is not known yet\n      if (!(e.origin in this.players)) {\n        this.$set(this.players, e.origin, {\n          score: 0,\n          name: 'Speler ' + (Object.keys(this.players).length + 1),\n          lastEvent: null\n        })\n      }\n      // If we do not have a winner, keep track of the points and score the event\n      if (!this.winner && this.active) {\n        this.players[e.origin].score += e.numPoints\n        this.players[e.origin].lastEvent = e\n      }\n    },\n    resetGame (e) {\n      console.log('resetGame', e)\n      this.resetGame()\n    }\n  },\n  computed: {\n    winner () {\n      for (let origin in this.players) {\n        if (this.players[origin].score >= this.maxScore) {\n          return this.players[origin]\n        }\n      }\n      return null\n    },\n    seconds () {\n      return pad(this.sinceStart % 60, 2)\n    },\n    minutes () {\n      return pad(parseInt(this.sinceStart / 60) % 60, 2)\n    }\n  },\n  created () {\n    window.setInterval(() => {\n      if (!this.winner) {\n        this.sinceStart = Math.trunc((new Date()).getTime() / 1000) - this.startTime\n        if (this.resetButton.time && new Date() - this.resetButton.time > this.resetButton.doubleTapTime) {\n          this.resetButton.time = null\n          this.resetButton.count = 0\n        }\n      }\n      this.checkAudio()\n    }, 100)\n  },\n  methods: {\n    checkAudio () {\n      if (this.winner && feelgoodAudio.paused && this.active) {\n        feelgoodAudio.currentTime = 0\n        feelgoodAudio.play()\n        derbyAudio.pause()\n      }\n    },\n    getColor (idx) {\n      var index = idx % 5\n      var colors = ['#5cb85c', '#5bc0de', '#f0ad4e', '#d9534f', '#0275d8']\n      return colors[index]\n    },\n    getPercentage (score) {\n      return parseInt(parseFloat(score) / this.maxScore * 100)\n    },\n    resetGame () {\n      this.resetButton.time = new Date()\n      this.resetButton.count += 1\n      if (this.resetButton.count >= this.resetButton.clearPlayersCount) {\n        this.players = {}\n      } else if (!this.active) {\n        feelgoodAudio.pause()\n        derbyAudio.currentTime = 0\n        derbyAudio.play()\n        derbyAudio.addEventListener('ended', () => {\n          if (!this.winner && this.active) {\n            derbyAudio.play()\n          }\n        })\n        bellAudio.currentTime = 0\n        bellAudio.play()\n\n        this.startTime = Math.trunc((new Date()).getTime() / 1000)\n        this.active = true\n      } else if (this.active) {\n        for (let origin in this.players) {\n          this.players[origin].score = 0\n        }\n        derbyAudio.pause()\n        feelgoodAudio.pause()\n        bellAudio.pause()\n        this.active = false\n      }\n    }\n  }\n}\n</script>\n\n<style>\n\n.player {\n  padding-bottom: 20px;\n  padding-top: 20px;\n}\n\n.player .info {\n  text-align: left;\n}\n\n.player .score {\n  color: #d0c1c1\n}\n\n.player .lastScore {\n  opacity: 0;\n  position: absolute;\n  margin-left: -20px;\n}\n\n.progress-bar, .camel {\n  height: 50px;\n}\n\n.camel {\n  background: url('/static/camel.png') left center no-repeat;\n  animation: play .8s steps(12) infinite;\n  width: 75px;\n}\n\n@keyframes play {\n  100% { background-position: -900px; }\n}\n\n.fade-enter {\n  opacity: 1 !important;\n}\n.fade-enter-to {\n  transform: scale(10, 10);\n}\n.fade-enter-active {\n  transition: all 1.5s !important;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?5be14958","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"site-wrapper\"\n  }, [_c('div', {\n    staticClass: \"site-wrapper-inner\"\n  }, [_c('div', {\n    staticClass: \"cover-container\",\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('div', {\n    staticClass: \"masthead clearfix\"\n  }, [_c('div', {\n    staticClass: \"inner\"\n  }, [_c('h3', {\n    staticClass: \"masthead-brand\",\n    on: {\n      \"click\": _vm.resetGame\n    }\n  }, [_vm._v(\"Kamelen Race!\")])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"inner cover\"\n  }, [(!_vm.active) ? _c('h1', {\n    staticClass: \"cover-heading\"\n  }, [_vm._v(\"Klaar voor de start?\")]) : _vm._e(), _vm._v(\" \"), (!_vm.winner && _vm.active) ? _c('h1', {\n    staticClass: \"cover-heading\"\n  }, [_vm._v(_vm._s(_vm.minutes) + \":\" + _vm._s(_vm.seconds))]) : _vm._e(), _vm._v(\" \"), (_vm.winner && _vm.active) ? _c('h1', {\n    staticClass: \"cover-heading\"\n  }, [_vm._v(_vm._s(_vm.winner.name) + \" wint! - \" + _vm._s(_vm.minutes) + \":\" + _vm._s(_vm.seconds))]) : _vm._e(), _vm._v(\" \"), _vm._l((_vm.players), function(player, origin, idx) {\n    return _c('div', {\n      staticClass: \"player\"\n    }, [_c('transition', {\n      attrs: {\n        \"name\": \"fade\",\n        \"mode\": \"out-in\"\n      }\n    }, [(player.lastEvent) ? _c('div', {\n      key: player.lastEvent.time,\n      staticClass: \"lastScore\",\n      style: ({\n        color: _vm.getColor(idx)\n      }),\n      domProps: {\n        \"textContent\": _vm._s(player.lastEvent.numPoints)\n      }\n    }) : _vm._e()]), _vm._v(\" \"), _c('div', {\n      staticClass: \"info\"\n    }, [_c('span', {\n      staticClass: \"name\",\n      domProps: {\n        \"textContent\": _vm._s(player.name)\n      }\n    }), _vm._v(\" \"), (_vm.winner) ? _c('span', {\n      staticClass: \"score\"\n    }, [_vm._v(\"- (\" + _vm._s(player.score) + \" punten)\")]) : _vm._e()]), _vm._v(\" \"), _c('div', {\n      staticClass: \"progress\"\n    }, [_c('div', {\n      staticClass: \"progress-bar progress-bar-striped progress-bar-animated\",\n      style: ({\n        width: _vm.getPercentage(player.score) + '%',\n        backgroundColor: _vm.getColor(idx)\n      }),\n      attrs: {\n        \"role\": \"progressbar\",\n        \"aria-valuenow\": player.score,\n        \"aria-valuemin\": \"0\",\n        \"aria-valuemax\": _vm.maxScore\n      }\n    }), _vm._v(\" \"), _c('span', {\n      staticClass: \"camel\"\n    })])], 1)\n  })], 2), _vm._v(\" \"), _vm._m(0)])])])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"mastfoot\"\n  }, [_c('div', {\n    staticClass: \"inner\"\n  }, [_c('p', [_vm._v(\"Kamelen race, \"), _c('a', {\n    attrs: {\n      \"href\": \"mailto:info@baasvanhorstaandemaas.nl\"\n    }\n  }, [_vm._v(\"Baas van Horst aan de Maas\")])])])])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-cad49406\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 50\n// module chunks = 1"],"sourceRoot":""}